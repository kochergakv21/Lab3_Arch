{% extends 'layout.html' %}
{% block body %}
<h1>Edit</h1>
  <form id="saveForm" action= '/api/edit/' method="post">
    <label for="key">Key</label>
    <input type="text" id="key" size=10/>
      <label for="value">Data</label>
    <input type="text" id="value" size=10/>
    <input type="submit" value="Save" id="save"/>
</form>
<script type=text/javascript>
        $("#saveForm").submit(function(event){
            event.preventDefault();
            var $form = $(this),
                key = $form.find("input[id='key']").val(),
                    value = $form.find("input[id='value']").val(),
                url = $form.attr('action');
            $.post(url, {'key': key, 'data': value}).done(function(data){
                $("#result").text(data.result);
            });
        });
</script>
<p><span id=result></span></p>
{% endblock %}